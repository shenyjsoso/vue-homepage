{"remainingRequest":"/Users/soso/hygst/HOMEPAGE/homepage-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/soso/hygst/HOMEPAGE/homepage-web/src/components/Dashboard/monitorNum.vue?vue&type=style&index=0&id=49deda52&lang=less&scoped=true&","dependencies":[{"path":"/Users/soso/hygst/HOMEPAGE/homepage-web/src/components/Dashboard/monitorNum.vue","mtime":1589250168635},{"path":"/Users/soso/hygst/HOMEPAGE/homepage-web/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/soso/hygst/HOMEPAGE/homepage-web/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/soso/hygst/HOMEPAGE/homepage-web/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/soso/hygst/HOMEPAGE/homepage-web/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/soso/hygst/HOMEPAGE/homepage-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/soso/hygst/HOMEPAGE/homepage-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQojbW9uaXRvck51bSB7DQogIHdpZHRoOiAxMDAwcHg7DQogIGhlaWdodDogNzAwcHg7DQoNCiAgZmxleDogMTsNCiAgLmFtb3VudCB7DQogICAgd2lkdGg6IDEwMCU7DQogICAgaGVpZ2h0OiAxMDAlOw0KICAgIGZsb2F0OiBsZWZ0Ow0KICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICAuY29udGVudCB7DQogICAgICB3aWR0aDogNjAlOw0KICAgICAgaGVpZ2h0OiAxMDAlOw0KICAgICAgLy8gcG9zaXRpb246IGFic29sdXRlOw0KICAgICAgZmxvYXQ6IGxlZnQ7DQogICAgICBsZWZ0OiAwOw0KICAgICAgYm90dG9tOiAwOw0KICAgIH0NCiAgICAuY29udGVudDIgew0KICAgICAgd2lkdGg6IDQwJTsNCiAgICAgIGhlaWdodDogMTAwJTsNCiAgICAgIC8vIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICAgIGZsb2F0OiBsZWZ0Ow0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["monitorNum.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAibA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"monitorNum.vue","sourceRoot":"src/components/Dashboard","sourcesContent":["<template>\r\n  <div id=\"monitorNum\">\r\n    <div class=\"amount\">\r\n      <div class=\"content\" id=\"graph\"></div>\r\n      <div class=\"content2\" id=\"graph2\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport charts from \"echarts\";\r\nexport default {\r\n  name: \"monitorNum\",\r\n  data() {\r\n    return {\r\n      resultTime: {},\r\n      timeData: { today: [], yesterday: [] },\r\n      numData: { today: [], yesterday: [] },\r\n      nameList: [\r\n        \"监控消息总量\",\r\n        \"MQ消息量\",\r\n        \"WS消息量\",\r\n        \"异常消息量\",\r\n        \"平均耗时\",\r\n        \"最大耗时\"\r\n      ],\r\n      yesterdayColor: \"#73DEB3\",\r\n      todayColor: \"#5B8FF9\",\r\n      Interval: null\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getData();\r\n  },\r\n  beforeDestroy() {\r\n    window.clearInterval(this.Interval);\r\n  },\r\n  methods: {\r\n    getData() {\r\n      let param = {\r\n        startDate: \"2020-04-27\"\r\n      };\r\n      this.$ajax.adminHome.findMonitorMsgAmount(param).then(\r\n        res => {\r\n          var data = res.data;\r\n          var timeData = { today: [], yesterday: [] };\r\n          var numData = { today: [], yesterday: [] };\r\n          for (var i = 0; i < data.length; i++) {\r\n            if (\r\n              data[i].name == this.nameList[4] ||\r\n              data[i].name == this.nameList[5]\r\n            ) {\r\n              if (data[i].category == 1) {\r\n                timeData.today.push(data[i].amount);\r\n              } else {\r\n                timeData.yesterday.push(data[i].amount);\r\n              }\r\n            } else {\r\n              if (data[i].category == 1) {\r\n                numData.today.push(data[i].amount);\r\n              } else {\r\n                numData.yesterday.push(data[i].amount);\r\n              }\r\n            }\r\n          }\r\n          this.timeData = timeData;\r\n          this.numData = numData;\r\n          this.$nextTick(() => {\r\n            this.init();\r\n          });\r\n        },\r\n        () => {}\r\n      );\r\n    },\r\n    init() {\r\n      this.newchartone();\r\n      this.newcharttwo();\r\n    },\r\n    newchartone() {\r\n      var myChart = charts.init(document.getElementById(\"graph\"));\r\n      var todayData = this.numData.today;\r\n      var yesterday = this.numData.yesterday;\r\n      var option = {\r\n        title: {\r\n          text: \"监控消息数量\",\r\n          textStyle: {\r\n            color: \"#000\",\r\n            fontWeight: 300,\r\n            fontSize: 22\r\n          },\r\n          top: 15,\r\n          left: 15\r\n        },\r\n        tooltip: {\r\n          trigger: \"axis\",\r\n          axisPointer: {\r\n            // 坐标轴指示器，坐标轴触发有效\r\n            type: \"shadow\" // 默认为直线，可选为：'line' | 'shadow'\r\n          }\r\n        },\r\n        legend: {\r\n          data: [\"今日\", \"昨日\"],\r\n          left: \"50%\",\r\n          selectedMode: false,\r\n          top: 25,\r\n          itemWidth: 12,\r\n          itemHeight: 10,\r\n          //   left: 200,\r\n          textStyle: {\r\n            color: \"#000\"\r\n          }\r\n        },\r\n        grid: {\r\n          left: \"8%\",\r\n          right: \"0\",\r\n          bottom: \"3%\",\r\n          top: \"30%\",\r\n          containLabel: true\r\n        },\r\n        xAxis: [\r\n          {\r\n            show: true,\r\n            type: \"category\",\r\n            data: [\"消息总量\", \"异步消息量\", \"同步消息量\", \"异常消息量\"],\r\n            splitLine: {\r\n              show: false,\r\n              lineStyle: {\r\n                color: \"#000\",\r\n                width: 2,\r\n                opacity: 0.1\r\n              }\r\n            },\r\n            // splitLine: {\r\n            //   show: false,\r\n            //   lineStyle: {\r\n            //     color: \"rgb(79,170,225)\",\r\n            //     type: \"dotted\",\r\n            //     opacity: 0.4\r\n            //   }\r\n            // },\r\n            axisLine: {\r\n              show: true,\r\n              lineStyle: {\r\n                color: \"rgb(79,170,225)\",\r\n                width: \"1\"\r\n              }\r\n            },\r\n            axisTick: {\r\n              show: false\r\n            },\r\n            axisLabel: {\r\n              color: \"#000\"\r\n            }\r\n          }\r\n        ],\r\n        yAxis: [\r\n          {\r\n            name: \"数量\",\r\n            position: \"left\",\r\n            show: true,\r\n            type: \"value\",\r\n            axisLabel: {\r\n              color: \"#fff\",\r\n              fontWeight: 400,\r\n              fontSize: 12\r\n            },\r\n            // axisLabel: {\r\n            //   margin: 10,\r\n            //   color: \"#fff\"\r\n            // },\r\n            splitLine: {\r\n              show: false,\r\n              lineStyle: {\r\n                color: \"rgb(79,170,225)\",\r\n                type: \"dotted\",\r\n                opacity: 0.4\r\n              }\r\n            },\r\n            axisLine: {\r\n              show: true,\r\n              lineStyle: {\r\n                color: \"rgb(79,170,225)\",\r\n                width: \"1\"\r\n              }\r\n            },\r\n            axisTick: {\r\n              show: false\r\n            },\r\n            nameTextStyle: {\r\n              color: \"#000\",\r\n              fontWeight: 400,\r\n              fontSize: 12,\r\n              padding: [0, 40, 0, 0]\r\n            }\r\n          }\r\n        ],\r\n        series: [\r\n          {\r\n            name: \"今日\",\r\n            type: \"bar\",\r\n            data: todayData,\r\n            barGap: \"1%\",\r\n            barWidth: 15,\r\n            label: {\r\n              normal: {\r\n                show: true,\r\n                position: \"top\",\r\n                offset: [7, 0],\r\n                color: this.todayColor,\r\n                fontWeight: 200,\r\n                fontSize: 12,\r\n                align: \"right\"\r\n              }\r\n            },\r\n            itemStyle: {\r\n              normal: {\r\n                color: function(params) {\r\n                  var colorList = [\r\n                    \"#5B8FF9\",\r\n                    \"#5B8FF9\",\r\n                    \"#0FE4F5\",\r\n                    \"#0FE4F5\",\r\n                    \"#0FE4F5\"\r\n                  ];\r\n                  return colorList[params.dataIndex];\r\n                }\r\n              }\r\n            }\r\n          },\r\n          {\r\n            name: \"昨日\",\r\n            type: \"bar\",\r\n            stack: \"广告\",\r\n            data: yesterday,\r\n            barGap: \"1%\",\r\n            barWidth: 15,\r\n            label: {\r\n              normal: {\r\n                offset: [-7, 0],\r\n                show: true,\r\n                position: \"top\",\r\n                color: this.yesterdayColor,\r\n                align: \"left\",\r\n                fontWeight: 200,\r\n                fontSize: 12\r\n              }\r\n            },\r\n            itemStyle: {\r\n              normal: {\r\n                color: function(params) {\r\n                  var colorList = [\r\n                    \"#2196E0\",\r\n                    \"#2196E0\",\r\n                    \"#2196E0\",\r\n                    \"#73DEB3\",\r\n                    \"#73DEB3\"\r\n                  ];\r\n                  return colorList[params.dataIndex];\r\n                }\r\n              }\r\n            }\r\n          }\r\n        ]\r\n      };\r\n      myChart.clear();\r\n      myChart.setOption(option);\r\n    },\r\n    newcharttwo() {\r\n      var myChart = charts.init(document.getElementById(\"graph2\"));\r\n      var todayData = this.timeData.today;\r\n      var yesterday = this.timeData.yesterday;\r\n      var option = {\r\n        tooltip: {\r\n          trigger: \"axis\",\r\n          axisPointer: {\r\n            // 坐标轴指示器，坐标轴触发有效\r\n            type: \"shadow\" // 默认为直线，可选为：'line' | 'shadow'\r\n          }\r\n        },\r\n        grid: {\r\n          left: \"0\",\r\n          right: \"6%\",\r\n          bottom: \"3%\",\r\n          top: \"30%\",\r\n          containLabel: true\r\n        },\r\n        xAxis: [\r\n          {\r\n            show: true,\r\n            type: \"category\",\r\n            data: [\"平均耗时\", \"最大耗时\"],\r\n            // splitLine: {\r\n            //   show: false,\r\n            //   lineStyle: {\r\n            //     color: \"#fff\",\r\n            //     width: 2,\r\n            //     opacity: 0.1\r\n            //   }\r\n            // },\r\n            splitLine: {\r\n              show: false,\r\n              lineStyle: {\r\n                color: \"rgb(79,170,225)\",\r\n                type: \"dotted\",\r\n                opacity: 0.4\r\n              }\r\n            },\r\n            axisLine: {\r\n              show: true,\r\n              lineStyle: {\r\n                color: \"rgb(79,170,225)\",\r\n                width: \"1\"\r\n              }\r\n            },\r\n            axisTick: {\r\n              show: false\r\n            },\r\n            axisLabel: {\r\n              color: \"#000\"\r\n            }\r\n          }\r\n        ],\r\n        yAxis: [\r\n          {\r\n            name: \"时间(ms)\",\r\n            position: \"right\",\r\n            show: true,\r\n            type: \"value\",\r\n            axisLabel: {\r\n              color: \"#000\",\r\n              fontWeight: 400,\r\n              fontSize: 12\r\n            },\r\n            // axisLabel: {\r\n            //   margin: 10,\r\n            //   color: \"#fff\"\r\n            // },\r\n            splitLine: {\r\n              show: false\r\n            },\r\n            axisLine: {\r\n              show: true,\r\n              lineStyle: {\r\n                color: \"rgb(79,170,225)\",\r\n                width: \"1\"\r\n              }\r\n            },\r\n            axisTick: {\r\n              show: false\r\n            },\r\n            nameTextStyle: {\r\n              color: \"#000\",\r\n              fontWeight: 400,\r\n              fontSize: 12,\r\n              padding: [0, -40, 0, 0]\r\n            }\r\n          }\r\n        ],\r\n        series: [\r\n          {\r\n            name: \"今日\",\r\n            type: \"bar\",\r\n            data: todayData,\r\n            barGap: \"1%\",\r\n            barWidth: 15,\r\n            label: {\r\n              normal: {\r\n                offset: [7, 0],\r\n                align: \"right\",\r\n                show: true,\r\n                position: \"top\",\r\n                color: blur,\r\n                fontWeight: 200,\r\n                fontSize: 12\r\n              }\r\n            },\r\n            itemStyle: {\r\n              normal: {\r\n                color: function(params) {\r\n                  var colorList = [\r\n                    \"#0FE4F5\",\r\n                    \"#0FE4F5\",\r\n                    \"#0FE4F5\",\r\n                    \"#0FE4F5\",\r\n                    \"#0FE4F5\"\r\n                  ];\r\n                  return colorList[params.dataIndex];\r\n                }\r\n              }\r\n            }\r\n          },\r\n          {\r\n            name: \"昨日\",\r\n            type: \"bar\",\r\n            stack: \"广告\",\r\n            data: yesterday,\r\n            barGap: \"1%\",\r\n            barWidth: 15,\r\n            label: {\r\n              normal: {\r\n                offset: [-7, 0],\r\n                align: \"left\",\r\n                show: true,\r\n                position: \"top\",\r\n                color: '#000',\r\n                fontWeight: 200,\r\n                fontSize: 12\r\n              }\r\n            },\r\n            itemStyle: {\r\n              normal: {\r\n                color: function(params) {\r\n                  var colorList = [\r\n                    \"#2196E0\",\r\n                    \"#2196E0\",\r\n                    \"#2196E0\",\r\n                    \"#2196E0\",\r\n                    \"#2196E0\"\r\n                  ];\r\n                  return colorList[params.dataIndex];\r\n                }\r\n              }\r\n            }\r\n          }\r\n        ]\r\n      };\r\n      myChart.clear();\r\n      myChart.setOption(option);\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n#monitorNum {\r\n  width: 1000px;\r\n  height: 700px;\r\n\r\n  flex: 1;\r\n  .amount {\r\n    width: 100%;\r\n    height: 100%;\r\n    float: left;\r\n    position: relative;\r\n    .content {\r\n      width: 60%;\r\n      height: 100%;\r\n      // position: absolute;\r\n      float: left;\r\n      left: 0;\r\n      bottom: 0;\r\n    }\r\n    .content2 {\r\n      width: 40%;\r\n      height: 100%;\r\n      // position: absolute;\r\n      float: left;\r\n    }\r\n  }\r\n}\r\n</style>"]}]}
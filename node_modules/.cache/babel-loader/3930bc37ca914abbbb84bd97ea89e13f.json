{"remainingRequest":"/Users/soso/hygst/HOMEPAGE/homepage-web/node_modules/babel-loader/lib/index.js!/Users/soso/hygst/HOMEPAGE/homepage-web/node_modules/eslint-loader/index.js??ref--13-0!/Users/soso/hygst/HOMEPAGE/homepage-web/src/ajax/ajax.js","dependencies":[{"path":"/Users/soso/hygst/HOMEPAGE/homepage-web/src/ajax/ajax.js","mtime":1589011267702},{"path":"/Users/soso/hygst/HOMEPAGE/homepage-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/soso/hygst/HOMEPAGE/homepage-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/soso/hygst/HOMEPAGE/homepage-web/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBRcyBmcm9tICdxcyc7CmltcG9ydCByb3V0ZXIgZnJvbSAnQC9yb3V0ZXInOyAvL3VybOaLvOaOpQoKZnVuY3Rpb24gcmVkaXJlY3RBamF4KHVybCwgcGFyYW0pIHsKICB2YXIgdHJvID0gUXMuc3RyaW5naWZ5KHBhcmFtKTsKICByZXR1cm4gdXJsICsgJz8nICsgdHJvOwp9Ci8qKgogKiDojrflj5bkuIDkuKrmlrDnmoToh6rlrprkuYnnmoRheGlvc+WunuS+iwogKi8KCgp2YXIgYWpheCA9IG5ldyBheGlvcy5jcmVhdGUoewogIC8vIHRpbWVvdXQ6IDYwMDAwMCwKICAvL+iuvue9rkNvbnRlbnQtVHlwZQogIGhlYWRlcnM6IHsKICAgICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICB9Cn0pOyAvL+ivt+axguaLpuaIquWZqAoKYWpheC5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIC8vIGxldCBsb2dpblNlc3Npb24gPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UubG9naW5TZXNzaW9uCiAgLy8gaWYgKGxvZ2luU2Vzc2lvbikgewogIC8vICAgICAvLyDlnKjlj5HpgIHor7fmsYLkuYvliY3lgZrkupvku4DkuYjvvIzkvovlpoLliqDlhaV0b2tlbgogIC8vICAgICBhamF4LmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydYLUNTUkYtVE9LRU4nXSA9IENvb2tpZXMuZ2V0KGdldENvb2tpZUtleSgpKQogIC8vICAgICBjb25maWcuaGVhZGVyc1snWC1DU1JGLVRPS0VOJ10gPSBDb29raWVzLmdldChnZXRDb29raWVLZXkoKSkKICAvLyAgICAgcmV0dXJuIGNvbmZpZwogIC8vIH0gZWxzZSB7CiAgLy8gICAgIHJldHVybiBjb25maWcKICAvLyB9CiAgLy8gc3NvLWhlYWRlcgogIHZhciBBdXRob3JpemF0aW9uID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndG9rZW5fdHlwZScpICsgJyAnICsgc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnYWNjZXNzX3Rva2VuJyk7CiAgYWpheC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddID0gQXV0aG9yaXphdGlvbjsKICBjb25maWcuaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gQXV0aG9yaXphdGlvbjsKICByZXR1cm4gY29uZmlnOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAvLyDlr7nor7fmsYLplJnor6/lgZrkupvku4DkuYgKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsgLy/lk43lupTmi6bmiKrlmagKCmFqYXguaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICB2YXIgX3Jlc3BvbnNlJGRhdGE7CgogIC8vIOWcqOaOpeaUtuWTjeW6lOWBmuS6m+S7gOS5iO+8jOS+i+Wmgui3s+i9rOWIsOeZu+W9lemhtSAKICBpZiAoKHJlc3BvbnNlID09PSBudWxsIHx8IHJlc3BvbnNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3Jlc3BvbnNlJGRhdGEgPSByZXNwb25zZS5kYXRhKSA9PT0gbnVsbCB8fCBfcmVzcG9uc2UkZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3Jlc3BvbnNlJGRhdGEuY29kZSkgPT0gNDAxKSB7CiAgICByb3V0ZXIucHVzaCh7CiAgICAgIHBhdGg6ICcvJwogICAgfSk7CiAgfQoKICByZXR1cm4gcmVzcG9uc2U7Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIC8vIOWvueWTjeW6lOmUmeivr+WBmueCueS7gOS5iAogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwpleHBvcnQgeyBhamF4LCByZWRpcmVjdEFqYXggfTs="},{"version":3,"sources":["/Users/soso/hygst/HOMEPAGE/homepage-web/src/ajax/ajax.js"],"names":["axios","Qs","router","redirectAjax","url","param","tro","stringify","ajax","create","headers","interceptors","request","use","config","Authorization","sessionStorage","getItem","defaults","common","error","Promise","reject","response","data","code","push","path"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,EAAP,MAAe,IAAf;AACA,OAAOC,MAAP,MAAmB,UAAnB,C,CACA;;AACA,SAASC,YAAT,CAAsBC,GAAtB,EAA2BC,KAA3B,EAAkC;AAC9B,MAAIC,GAAG,GAAGL,EAAE,CAACM,SAAH,CAAaF,KAAb,CAAV;AACA,SAAOD,GAAG,GAAG,GAAN,GAAYE,GAAnB;AACH;AAED;;;;;AAGA,IAAIE,IAAI,GAAG,IAAIR,KAAK,CAACS,MAAV,CAAiB;AACxB;AACA;AACAC,EAAAA,OAAO,EAAE;AACL,oBAAgB;AADX;AAHe,CAAjB,CAAX,C,CAQA;;AACAF,IAAI,CAACG,YAAL,CAAkBC,OAAlB,CAA0BC,GAA1B,CACI,UAASC,MAAT,EAAiB;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAIC,aAAa,GAAGC,cAAc,CAACC,OAAf,CAAuB,YAAvB,IAAuC,GAAvC,GAA6CD,cAAc,CAACC,OAAf,CAAuB,cAAvB,CAAjE;AACAT,EAAAA,IAAI,CAACU,QAAL,CAAcR,OAAd,CAAsBS,MAAtB,CAA6B,eAA7B,IAAgDJ,aAAhD;AACAD,EAAAA,MAAM,CAACJ,OAAP,CAAe,eAAf,IAAkCK,aAAlC;AACA,SAAOD,MAAP;AACH,CAhBL,EAiBI,UAASM,KAAT,EAAgB;AACZ;AACA,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CApBL,E,CAuBA;;AACAZ,IAAI,CAACG,YAAL,CAAkBY,QAAlB,CAA2BV,GAA3B,CACI,UAASU,QAAT,EAAmB;AAAA;;AACf;AACA,MAAI,CAAAA,QAAQ,SAAR,IAAAA,QAAQ,WAAR,8BAAAA,QAAQ,CAAEC,IAAV,kEAAgBC,IAAhB,KAAwB,GAA5B,EAAiC;AAC7BvB,IAAAA,MAAM,CAACwB,IAAP,CAAY;AACRC,MAAAA,IAAI,EAAE;AADE,KAAZ;AAGH;;AACD,SAAOJ,QAAP;AACH,CATL,EAUI,UAASH,KAAT,EAAgB;AACZ;AACA,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CAbL;AAgBA,SAASZ,IAAT,EAAeL,YAAf","sourcesContent":["import axios from 'axios'\nimport Qs from 'qs'\nimport router from '@/router'\n//url拼接\nfunction redirectAjax(url, param) {\n    var tro = Qs.stringify(param)\n    return url + '?' + tro\n}\n\n/**\n * 获取一个新的自定义的axios实例\n */\nlet ajax = new axios.create({\n    // timeout: 600000,\n    //设置Content-Type\n    headers: {\n        'content-type': 'application/json',\n    },\n})\n\n//请求拦截器\najax.interceptors.request.use(\n    function(config) {\n        // let loginSession = window.sessionStorage.loginSession\n        // if (loginSession) {\n        //     // 在发送请求之前做些什么，例如加入token\n        //     ajax.defaults.headers.common['X-CSRF-TOKEN'] = Cookies.get(getCookieKey())\n        //     config.headers['X-CSRF-TOKEN'] = Cookies.get(getCookieKey())\n        //     return config\n        // } else {\n        //     return config\n        // }\n        // sso-header\n        let Authorization = sessionStorage.getItem('token_type') + ' ' + sessionStorage.getItem('access_token')\n        ajax.defaults.headers.common['Authorization'] = Authorization\n        config.headers['Authorization'] = Authorization\n        return config\n    },\n    function(error) {\n        // 对请求错误做些什么\n        return Promise.reject(error)\n    }\n)\n\n//响应拦截器\najax.interceptors.response.use(\n    function(response) {\n        // 在接收响应做些什么，例如跳转到登录页 \n        if (response?.data?.code == 401) {\n            router.push({\n                path: '/',\n            })\n        }\n        return response\n    },\n    function(error) {\n        // 对响应错误做点什么\n        return Promise.reject(error)\n    }\n)\n\nexport { ajax, redirectAjax }"]}]}